<!doctype html><html lang=en-us><title>Reject unrecognised parameters | George Thomas</title><meta charset=utf-8><meta name=generator content="Hugo 0.110.0"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://geotho.github.io/css/index.css><link rel=stylesheet href=https://geotho.github.io/css/classes.css><link rel=canonical href=https://geotho.github.io/post/2016-02-22-reject-unrecognised-parameters/><link rel=alternate type=application/rss+xml href title="George Thomas"><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css integrity=sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js integrity=sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-66953349-2","auto"),ga("send","pageview"))</script><body><header class=icons><a href=https://geotho.github.io/>George Thomas</a><nav><a href=/about/>About</a>
<a href=/projects/>Projects</a></nav></header><article><header><a href=https://geotho.github.io/categories/code/>CODE</a><h1>Reject unrecognised parameters</h1><time datetime=2016-02-22T17:56:47Z>February 22, 2016</time></header><p><strong>TL;DR:</strong> your API or library should error if it is passed parameters it does
not recognise.</p><p>I recently spent a week debugging a friend&rsquo;s JavaScript code.
A datepicker library seemingly wasn&rsquo;t picking up changes to the date format,
supplied through options like so:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>\</span><span style=color:#a6e22e>$</span>(<span style=color:#e6db74>&#34;#datepicker&#34;</span>).<span style=color:#a6e22e>datepicker</span>({
</span></span><span style=display:flex><span><span style=color:#e6db74>&#34;dateFormat&#34;</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;yy-mm-dd&#34;</span>,
</span></span><span style=display:flex><span>});</span></span></code></pre></div><p>We arrived at the solution after 43 emails –
the code was using <code>bootstrap-datepicker</code> while the options were from <code>jQueryUI-datapicker</code>.
We should have been using <code>format</code> rather than <code>dateFormat</code>.
Both libraries use the same method, leading to a confusing half–working scenario.</p><p>Had the library failed noisily on unexpected parameters,
the error would have been picked up almost immediately.</p><p>Your API or library should return errors or fail noisily if it is passed unexpected arguments.
This helps your users understand that they are doing something wrong and lets them know how to fix it.</p></article></body></html>